{"version":3,"sources":["../../src/pages/addoperator/addoperator.module.ts","../../src/pages/addoperator/addoperator.ts"],"names":[],"mappings":"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","file":"1.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { AddoperatorPage } from './addoperator';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AddoperatorPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(AddoperatorPage),\r\n  ],\r\n})\r\nexport class AddoperatorPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/addoperator/addoperator.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams, ViewController, AlertController, LoadingController } from 'ionic-angular';\r\nimport { AppProvider } from '../../providers/app/app';\r\nimport { Storage } from '@ionic/storage';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { InAppBrowser, InAppBrowserEvent } from '@ionic-native/in-app-browser';\r\nimport { LoginPage } from '../../pages/login/login';\r\nimport { KakaoCordovaSDK, KLCustomTemplate } from 'kakao-sdk';\r\nimport { TranslateService } from '@ngx-translate/core';\r\n\r\n/**\r\n * Generated class for the AddoperatorPage page.\r\n *\r\n * See https://ionicframework.com/docs/components/#navigation for more info on\r\n * Ionic pages and navigation.\r\n */\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-addoperator',\r\n  templateUrl: 'addoperator.html',\r\n})\r\nexport class AddoperatorPage {\r\n\r\n  public language: string;\r\n  public title: string;\r\n  public email: string;\r\n  public skills: string;\r\n  public add: string;\r\n  public errormsgtitle: string;\r\n  public errormsg: string;\r\n  public addmsg: string;\r\n\r\n  private access_token:string;\r\n\r\n  loading:any;\r\n\r\n  vehicle: Array<{\r\n    vehicle_url: string,\r\n    vehicle_type: string\r\n  }>;\r\n\r\n  public vehicle_type: string[];\r\n  public vehicle_url: string[];\r\n  public check_email: string;\r\n  public add_operator: string;\r\n  emailField: string = \"\";\r\n\r\n  selectedArray: any = [];\r\n\r\n  constructor(public navCtrl: NavController, \r\n    public navParams: NavParams, \r\n    private view: ViewController,\r\n    public appprov:AppProvider, \r\n    public alertCtrl: AlertController, \r\n    public http: HttpClient, \r\n    private iab: InAppBrowser, \r\n    private storage: Storage, \r\n    public _kakaoCordovaSDK: KakaoCordovaSDK,\r\n    public loadingCtrl: LoadingController,\r\n    public _translate: TranslateService) {\r\n    storage.ready().then(() => {\r\n    });\r\n    storage.get('access_token').then((val) => {\r\n      if (val == null){\r\n        console.log(\"No acccess token\");\r\n        this.navCtrl.push(LoginPage);\r\n      }\r\n      else{\r\n        console.log(\"Got access token\");\r\n        this.access_token = val.toString();\r\n        this.getVehicleUrl();\r\n        this._initializeTranslation();\r\n      }\r\n    });\r\n  }//end of constructor\r\n\r\n  ionViewDidEnter() {\r\n    console.log('ionViewDidLoad AddoperatorPage');\r\n    this._initializeTranslation();\r\n    //this.getVehicleUrl();\r\n  }\r\n\r\n  public changeLanguage(): void{\r\n    this._translateLanguage();\r\n  }\r\n  \r\n  private _translateLanguage() : void{\r\n    this._translate.use(this.language);\r\n    this._initializeTranslation();\r\n  }\r\n    \r\n  private _initializeTranslation(): void{\r\n      this.title =  this._translate.instant(\"addoperator.title\");\r\n      this.email = this._translate.instant(\"addoperator.email\");\r\n      this.skills = this._translate.instant(\"addoperator.skills\");\r\n      this.add = this._translate.instant(\"addoperator.add\");\r\n      this.errormsgtitle = this._translate.instant(\"addoperator.errormsgtitle\");\r\n      this.errormsg = this._translate.instant(\"addoperator.errormsg\");\r\n      this.addmsg = this._translate.instant(\"addoperator.addmsg\");\r\n  }\r\n\r\n  /*Function to close page. the close button to close page*/\r\n  closeModal(){\r\n    this.view.dismiss();\r\n  }\r\n\r\n  /*getting the vehicle image of operator skill set */\r\n  getVehicleUrl(){\r\n    console.log(\"getting vehicle url\");\r\n    this.appprov.getVehicleUrl(this.access_token).then((res) =>{\r\n      let data = JSON.stringify(res);\r\n      data = JSON.parse(data);\r\n      this.vehicle_url = data['vehicle_url'];\r\n      this.vehicle_type= data['vehicle_type'];\r\n      this.vehicle = [];\r\n      console.log(this.vehicle_url);\r\n      for (let i=0; i<this.vehicle_url.length; i++){\r\n        this.vehicle.push({\r\n          vehicle_url: this.vehicle_url[i],\r\n          vehicle_type: this.vehicle_type[i],\r\n        })\r\n      } \r\n  }, err =>{\r\n    console.log(err);\r\n  });\r\n  } \r\n  \r\n\r\n  showLoader(){\r\n    this.loading = this.loadingCtrl.create({\r\n      content: 'Loading...'\r\n    });\r\n    this.loading.present();\r\n  }\r\n\r\n  /*adding new operator to operator list */\r\n  itemTappedAdd(){\r\n    console.log(\"adding oeprator\");\r\n    this.appprov.checkEmail(this.access_token, this.emailField).then((res) => {\r\n      let data = JSON.stringify(res);\r\n      data = JSON.parse(data);\r\n      this.check_email = data['result'];\r\n      if (this.check_email == 'false'){\r\n        let alert = this.alertCtrl.create({\r\n          title: 'Email does not exists',\r\n          subTitle: 'Double check email or invite him via kakaotalk',\r\n          buttons: ['OK']\r\n        });\r\n        alert.present();\r\n      }\r\n      else{\r\n        let vehicletype = [];\r\n        for (let i=0; i<this.selectedArray.length; i++){\r\n          vehicletype[i] = this.selectedArray[i]['vehicle_type'];\r\n        }\r\n        this.appprov.addOperator(this.access_token, this.emailField, vehicletype).then((res) => {\r\n          let data =JSON.stringify(res);\r\n          data = JSON.parse(data);\r\n          this.add_operator = data['result'];\r\n          if (this.add_operator == 'false'){\r\n            let alert = this.alertCtrl.create({\r\n              title: 'Fail to add operator',\r\n              subTitle: 'Please try again',\r\n              buttons: ['OK']\r\n            });\r\n            alert.present();\r\n          }\r\n          else{\r\n            let alert = this.alertCtrl.create({\r\n              title: 'Operator added successfully',\r\n              buttons: ['OK']\r\n            });\r\n            alert.present();\r\n            this.closeModal();\r\n          }\r\n        })\r\n      }\r\n    }, err => {\r\n      console.log(err);\r\n    });\r\n  }//end of itemTappedAdd()\r\n \r\n  // itemTappedAd(){\r\n  //   console.log(this.emailField);\r\n  //   console.log(this.selectedArray);\r\n  //   console.log(this.selectedArray.length);\r\n  //   console.log(this.selectedArray[0]['vehicle_type']);\r\n  //   let vehicletype = [];\r\n  //   for (let i=0; i<this.selectedArray.length; i++){\r\n  //     vehicletype[i] = this.selectedArray[i]['vehicle_type'];\r\n  //   }\r\n  //   console.log (vehicletype);\r\n  // }\r\n\r\n  /*Display the skill set of operator under the name*/\r\n  selectVehicle(data){\r\n    if (data.checked == true) {\r\n      this.selectedArray.push(data);\r\n    }else{\r\n      let newArray = this.selectedArray.filter(function(el){\r\n        return el.vehicle_type !== data.vehicle_type;\r\n      });\r\n      this.selectedArray = newArray;\r\n    }\r\n    console.log(this.selectedArray);\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/addoperator/addoperator.ts"],"sourceRoot":""}